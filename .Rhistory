v<-matrix(50000, 7)
for(i in 1:7){v[,i]<-rnorm(50000)}
v<-matrix(0, 50000,7)
for(i in 1:7){v[,i]<-rnorm(50000)}
summary(v)
V <- apply(v,2,sum)
V <- apply(v,1,sum)
quantile(V,0.05)
quantile(V,0.005)
X <- apply(v, 2, function(x) quantile(x, 0.005) )
test <- sqrt(t(X)%*%X)
test - abs(quantile(V,0.005))
(test - abs(quantile(V,0.005)))/test
v[,3]<- runif(50000)
V <- apply(v,2,sum)
quantile(V,0.005)
V <- apply(v,1,sum)
quantile(V,0.005)
X <- apply(v, 2, function(x) quantile(x, 0.005) )
test <- sqrt(t(X)%*%X)
v[,3]<- exp(rnorm(50000))
V <- apply(v,1,sum)
quantile(V,0.005)
X <- apply(v, 2, function(x) quantile(x, 0.005) )
test <- sqrt(t(X)%*%X)
for(i in 1:7){v[,i]<-exp(rnorm(50000))}
V <- apply(v,1,sum)
quantile(V,0.005)
X <- apply(v, 2, function(x) quantile(x, 0.005) )
test <- sqrt(t(X)%*%X)
for(i in 1:7){v[,i]<-exp(rnorm(50000,30,1))}
V <- apply(v,1,sum)
quantile(V,0.005)
X <- apply(v, 2, function(x) quantile(x, 0.005) )
test <- sqrt(t(X)%*%X)
version
install.packages("rmarkdown")
library(jsonlite)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001688294")
View(test)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001688294|001711005")
View(test)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
View(test)
View(test)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
View(test)
View(test)
library(jsonlite)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
View(test)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
library(jsonlite)
test <- fromJSON("http://showroom-actuariat.sia-partners.com/api/insee/octavie?id=001711009|001565188|001664243|001653959|001653947|001653194|001653195|001711011|001711943")
View(test)
View(test)
quakes
shiny::runApp('C:/Users/abuzzi/Desktop/appliShiny/disney/disney')
runApp('C:/Users/abuzzi/Desktop/appliShiny/disney/disney')
setwd("C:/Users/abuzzi/Desktop/appliShiny/disney/disney")
attractions <- fread("attractions.csv")
library(data.table)
library(dplyr)
histoTemp <- readRDS("histoTemps.rds")
attractions <- fread("attractions.csv")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
attractions <- fread("attractions.csv")
shiny::runApp()
runApp()
?which
runApp()
runApp()
?absolutePanel
setwd("C:/Users/abuzzi/Desktop/appliShiny/disney/disney")
histoTemp <- readRDS("histoTemps.rds")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
"<\\center>"
"<\center>"
"<\\\center>"
"<\\\\center>"
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
histoTemp <- readRDS("histoTemps.rds")
df <-  histoTemp %>% tbl_df() %>%
df <-  histoTemp %>% tbl_df() %>%
filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
df <-  histoTemp %>% tbl_df() %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
df <-  histoTemp %>% tbl_df() %>%
# filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
# filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
# filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
# filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente)))
View(df)
View(df)
df <- df %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
# filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
# filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente)))
View(df)
df <-  histoTemp %>% tbl_df() %>%
# filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
# filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
data.table()
df <- df %>%
tbl_df() %>%
group_by(hour_of_day) %>%
summarise(test = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
View(df)
runApp()
runApp()
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
data.table()
df <- df %>%
tbl_df() %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
data.table()
df <- df %>%
tbl_df() %>%
group_by(hour_of_day) %>%
summarise(test = mean(meanValue), min = min(as.numeric(meanValue)), max = max(as.numeric(meanValue))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(inter = mean(as.numeric(attente))) %>%
group_by(hour_of_day) %>%
summarise(test = mean(inter), min = min(as.numeric(inter)), max = max(as.numeric(inter))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(hour_of_day, id) %>%
summarise(inter = mean(as.numeric(attente)))
View(df)
View(df)
View(df)
View(histoTemp)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
group_by(hour_of_day) %>%
summarise(test = mean(inter), min = min(as.numeric(inter)), max = max(as.numeric(inter))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
group_by(hour_of_day)
View(df)
runApp()
runApp()
?removeMarker
runApp()
runApp()
runApp()
?removeMarker
runApp()
runApp()
View(df)
attractions <- fread("attractions.csv", encoding = "UTF-8")
View(attractions)
View(histoTemp)
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
histoTemp <- readRDS("histoTemps.rds")
attractions <- fread("attractions.csv", encoding = "UTF-8")
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(name = first(name), longitude = first(longitude), latitude = first(latitude), meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
data.table()
palet <- viridis_pal()(100)
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(longitude = first(longitude), latitude = first(latitude), meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
data.table()
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
data.table()
View(df2)
attractions <- left_join(attractions, df2, by = id)
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
attractions <- attractions %>% tbl_df()
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
attractions <- attractions %>% tbl_df()
attractions %>% tbl_df()
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) ) %>%
attractions <- attractions %>% tbl_df()
attractions <- attractions %>% tbl_df()
attractions <- left_join(attractions, df2, by = id)
df2 <-  histoTemp %>% tbl_df() %>%
group_by(id) %>%
summarise(meanValue = mean(as.numeric(attente))) %>%
mutate(meanValue2 = 7 + 15/(max(meanValue) - min(meanValue))*(meanValue - min(meanValue)) )
attractions <- attractions %>% tbl_df()
attractions <- left_join(attractions, df2, by = id)
attractions <- left_join(attractions, df2, by = "id")
View(attractions)
View(histoTemp)
View(attractions)
View(attractions)
runApp()
runApp()
runApp()
runApp()
View(attractions)
runApp()
?addLegend
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
?checkboxGroupInput
runApp()
runApp()
runApp()
runApp()
runApp()
?dateRangeInput
histoTemp <- readRDS("histoTemps.rds")
attractions <- fread("attractions.csv", encoding = "UTF-8")
as.Date(histoTemp$temps)
max(as.Date(histoTemp$temps))
runApp()
runApp()
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(inter), min = min(as.numeric(inter)), max = max(as.numeric(inter))) %>%
data.table()
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(inter), min = min(as.numeric(inter)), max = max(as.numeric(inter))) %>%
data.table()
View(df)
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente)))
View(df)
runApp()
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2)))
View(df)
View(df)
runApp()
runApp()
df <-  histoTemp %>% tbl_df() %>%
filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2)), min = min(as.numeric(inter2)), max = max(as.numeric(inter2)))
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2)), min = min(as.numeric(inter2)), max = max(as.numeric(inter2))) %>%
;
df <-  histoTemp %>% tbl_df() %>%
#filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
#filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2)), min = min(as.numeric(inter2)), max = max(as.numeric(inter2)))
View(df)
df <-  histoTemp %>% tbl_df() %>%
filter(id %in% values$selectedID, as.Date(temps) <= input$dateRange[2], as.Date(temps) >= input$dateRange[1]) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
filter(day %in% input$jour) %>%
group_by(temps) %>%
summarise(inter2 = mean(as.numeric(attente))) %>%
mutate(hour_of_day = hour(as.POSIXct(strptime(temps, "%Y-%m-%d %H:%M:%S")))) %>%
mutate(day = format(as.Date(temps), "%A")) %>%
group_by(day, hour_of_day) %>%
summarise(inter = mean(as.numeric(inter2)), min2 = min(as.numeric(inter2)), max2 = max(as.numeric(inter2))) %>%
group_by(hour_of_day) %>%
summarise(meanValue = mean(inter), min = min(as.numeric(min2)), max = max(as.numeric(max2))) %>%
data.table()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
?req
?need
runApp()
runApp()
runApp()
